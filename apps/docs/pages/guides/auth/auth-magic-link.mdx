import Layout from '~/layouts/DefaultGuideLayout'

export const meta = {
  id: 'auth-magic-link',
  title: '使用Magic Link登录',
  description: '使用Supabase使用魔术链接对用户进行身份验证和授权。',
}

Magic Link是一种无密码登录的形式，用户单击发送到其电子邮件地址的链接即可登录其帐户。
Magic Link仅适用于电子邮件地址。默认情况下，用户只能每60秒请求一次Magic Link。

## 概述

为Supabase应用程序设置Magic Link登录。

- 将Magic Link验证器添加到[MemFire Cloud项目](https://cloud.memfiredb.com)
- 将登录代码添加到应用程序 - [JavaScript](https://github.com/supabase/supabase-js) | [Flutter](https://github.com/supabase/supabase-flutter)

## 将Magic Link添加到您的Supabase项目中

1. 对于[网站URL](https://app.supabase.com/project/_/auth/url-configuration), 输入应用程序的最终（托管）URL。
1. 对于 [身份验证提供程序](https://app.supabase.com/project/_/auth/providers), **启用电子邮件提供商**.

## 将登录代码添加到客户端应用程序

<Tabs
  scrollable
  size="small"
  type="underlined"
  defaultActiveId="js"
>
<TabPanel id="js" label="JavaScript">

当您的用户登录时，使用其电子邮件地址调用[signInWithOtp()](/docs/reference/javascript/auth-signinwithotp):

```js
async function signInWithEmail() {
  const { data, error } = await supabase.auth.signInWithOtp({
    email: 'example@email.com',
  })
}
```

</TabPanel>
<TabPanel id="dart" label="Dart">

当您的用户登录时，使用其电子邮件地址调用[signIn()](/docs/reference/dart/auth-signinwithotp):

```dart
Future<void> signInWithEmail() async {
  final AuthResponse res = await supabase.auth.signinwithotp(email: 'example@email.com');
}
```

</TabPanel>
</Tabs>

<Tabs
  scrollable
  size="small"
  type="underlined"
  defaultActiveId="js"
>
<TabPanel id="js" label="JavaScript">

当用户注销时，调用[signOut()](/docs/reference/javascript/auth-signout)将其从浏览器会话和localStorage中删除:

```js
async function signOut() {
  const { error } = await supabase.auth.signOut()
}
```

</TabPanel>
<TabPanel id="dart" label="Dart">

当用户注销时，调用[signOut()](/docs/reference/dart/auth-signout)将其从浏览器会话和localStorage中删除:

```dart
Future<void> signOut() async {
  await supabase.auth.signOut();
}
```

</TabPanel>
</Tabs>

## 资源

- [MemFire Cloud](https://cloud.memfiredb.com)
- [JS客户端](https://github.com/supabase/supabase-js)
- [Flutter客户端](https://github.com/supabase/supabase-flutter)

export const Page = ({ children }) => <Layout meta={meta} children={children} />

export default Page
